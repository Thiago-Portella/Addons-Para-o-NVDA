<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="../style.css" media="screen">
<title>Автовключение звука 1.5.7</title>
</head>
<body>
<h1>NVDA Unmute (Автовключение звука Windows)</h1>
<ul>
<li>Автор: Олександр Грищенко</li>
<li>Версия: 1.5</li>
<li>Совместимость с NVDA: 2019.3 и более новые версии</li>
<li>Загрузить <a href="https://addons.nvda-project.org/files/get.php?file=unmute">стабільную версию</a></li>
</ul>
<p>Слава Украине! Героям слава!!!</p>
<p>Это дополнение проверяет состояние аудиосистемы Windows при запуске NVDA. И, если оказывается, что звук выключен или очень приглушенный, - приложение принудительно включает его.</p>
<p>Одновременно проверяется уровень громкости установленый отдельно для процесса NVDA.</p>
<p>Также дополнение проверяет состояние синтезатора речи. Если возникли проблемы с его инициализацией, выполняются попытки запуска синтезатора, который указан в настройках NVDA.</p>
<p>Присутствует дополнительная возможность проверять на какое аудио устройство выводится звук NVDA. И, если это устройство отличается от устройства по умолчанию, - вывод автоматически переключается на аудио-устройство, установленное в системе как основное.</p>
<p>Примечание: Если звуковой сигнал дополнения всегда воспроизводится, даже если уровень громкости NVDA находится на должном уровне. То есть дополнение переключает вывод звука на основное аудио-устройство каждый раз при запуске NVDA.</p>
<p>Это обычно происходит, когда устройство вывода звука в настройках NVDA отличается от устройства вывода по умолчанию или "Microsoft Sound Mapper".</p>
<p>Такое поведение можно легко изменить одним из следующих способов:</p>
<ol>
<li>После перезапуска NVDA просто сохраните текущую конфигурацию с помощью комбинации клавиш NVDA+Ctrl+C. Аудио-устройство по умолчанию будет сохранено в настройках NVDA, и переключения не будет происходить при каждом запуске.</li>
<li>Если вы не хотите менять конфигурацию NVDA - просто отключите функцию переключения звукового устройства в панели настроек дополнения.</li>
</ol>
<h2>Диалоговое окно настроек дополнения</h2>
<p>Чтобы открыть панель настроек дополнения, выполните следующие действия:</p>
<ul>
<li>Нажмите NVDA+N, чтобы открыть меню NVDA.</li>
<li>Далее перейдите к подменю "Параметры" -&gt; "Настройки...", и в списке категорий найдите и откройте "Автовключение звука Windows".</li>
</ul>
<p>Это все, теперь пользуясь клавишей Tab можно переходить между параметрами дополнения.</p>
<p>В диалоговом окне настроек дополнения доступны следующие параметры:</p>
<ol>
<li>
<p>Первый слайдер в диалоговом окне настроек дополнения позволяет указать уровень громкости звука Windows, который будет установлен при запуске NVDA, если предварительно звук был выключен или его уровень был слишком низок.</p>
</li>
<li>
<p>Минимальный уровень громкости Windows, при котором будет применяться процедура увеличения звука. Этот слайдер позволяет настроить уровень чувствительности дополнения.</p>
<p>Если уровень громкости снизится до величины, которая меньше указаного здесь значения, то при следующем запуске NVDA громкость будет увеличена.</p>
<p>Иначе, если уровень громкости останется выше, чем указаное здесь значение, то при перезапуске NVDA его уровень меняться не будет.</p>
<p>И, конечно, если звук ранее был выключен, при перезапуске дополнение все равно включит его в любом случае.</p>
</li>
<li>
<p>Следующий флажок позволяет включить повторную инициализацию драйвера голосового синтезатора.</p>
<p>Эта процедура будет запускаться только в том случае, когда при старте NVDA будет обнаружено, что драйвер синтезатора голоса не был инициализирован.</p>
</li>
<li>
<p>В этом поле можно указать количество попыток повторной инициализации драйвера. Попытки выполняются циклически с интервалом в 1 секунду. Значение 0 означает, что попытки будут выполняться бесконечно аж до успешного завершения процедуры.</p>
</li>
<li>
<p>Опция "Переключать вывод звука NVDA на аудио-устройство по умолчанию" позволяет при запуске проверить на какое аудио устройство выводится звук NVDA. И, если это устройство отличается от устройства по умолчанию, - вывод автоматически переключается на аудио-устройство, установленное в системе как основное.</p>
</li>
<li>
<p>Следующий флажок включает или выключает воспроизведение стартового звука при успешном выполнении операции.</p>
</li>
</ol>
<h2>Сторонние компоненты</h2>
<p>Для работы дополнение использует следующие сторонние компоненты:</p>
<ul>
<li>Для взаимодействия с <strong>Windows Core Audio API</strong> - <a href="https://github.com/AndreMiras/pycaw/">модуль PyCaw</a>, который распространяется под лицензией MIT.</li>
<li>Для получения информации о запущенных процессах и работы компонента PyCaw - <a href="https://github.com/giampaolo/psutil">модуль psutil</a>, который распространяется под лицензией BSD-3.</li>
</ul>
<h2>Журнал изменений</h2>
<h3>Версия 1.5.6</h3>
<ul>
<li>дополнение протестировано на совместимость с NVDA 2022.1;</li>
<li>обновлен сторонний модуль <strong>psutil</strong>;</li>
<li>дополнение адаптировано для версий Python 3.7 и 3.8;</li>
<li>в исходный код добавлены MyPy аннотации типов;</li>
<li>добавлена функция переключения вывода звука NVDA на аудио-устройство по умолчанию;</li>
<li>настройки дополнения всегда сохраняются в базовом профиле конфигурации;</li>
<li>добавлены переводы на испанский и галисийский языки (спасибо Iván Novegil Cancelas и José Manuel);</li>
<li>обновлен перевод на вьетнамский язык (спасибо Dang Manh Cuong).</li>
</ul>
<h3>Версия 1.4</h3>
<ul>
<li>добавлен метод увеличения громкости при запуске отдельно для процесса NVDA;</li>
<li>изменено звуковое оповещение об успешно выполненной операции (благодарность Manolo за сгенерированный звук);</li>
<li>все функции ручного управления уровнем громкости перенесены в дополнение NVDA Volume Adjustment.</li>
</ul>
<h3>Версия 1.3</h3>
<ul>
<li>добавлена ​​возможность управлять уровнем громкости звука основного аудио устройства и отдельно для каждой запущенной программы;</li>
<li>обновлен перевод на вьетнамский язык (спасибо Dang Manh Cuong);</li>
<li>добавлен перевод на турецкий язык (благодарность Cagri Dogan);</li>
<li>добавлен перевод на итальянский язык (спасибо Christianlm);</li>
<li>добавлен перевод на китайский язык (спасибо Cary Rowen);</li>
<li>добавлен перевод на польский язык (благодарность Stefan Banita);</li>
<li>обновлен перевод на украинский язык;</li>
<li>обновлено справку ReadMe.</li>
</ul>
<h3>Версия 1.2</h3>
<ul>
<li>переведено на использование <strong>Core Audio Windows API</strong> вместо <strong>Windows Sound Manager</strong>;</li>
<li>добавлено воспроизведения звука при запуске, когда аудио успешно включено дополнением.</li>
</ul>
<h3>Версия 1.1</h3>
<ul>
<li>добавлено диалоговое окно с настройками приложения;</li>
<li>обновленный перевод на Украинский язык.</li>
</ul>
<h3>Версия 1.0.1</h3>
<ul>
<li>выполняет неоднократные попытки повторно запустить драйвер синтезатора речи в случае его неудачной инициализации;</li>
<li>добавлен перевод на вьетнамский язык (спасибо Dang Manh Cuong);</li>
<li>добавлен перевод на Украинский язык.</li>
</ul>
<h3>Версия 1.0: особенности реализации</h3>
<p>В работе дополнение использует сторонний модуль Windows Sound Manager.</p>
<h2>Внесение изменений в исходный код дополнения</h2>
<p>Вы можете клонировать этот репозиторий, чтобы внести изменения в NVDA Unmute.</p>
<h3>Дополнительные зависимости</h3>
<p>Следующие модули можно установить с помощью pip:</p>
<ul>
<li>markdown</li>
<li>scons</li>
<li>python-gettext</li>
</ul>
<h3>Построение дополнения из репозитория</h3>
<ol>
<li>Откройте командную строку, перейдите в корневой каталог этого репозитория.</li>
<li>Запустите на выполнение команду <strong> scons </strong>. Если не возникло ошибок, сгенерированное дополнение будет помещено в текущий каталог.</li>
</ol>
</body>
</html>